{
    "version": "1.0",
    "greeting": {
        "text": "\nWelcome to the Geist Vertiv IMD Configuration Script!\n",
        "display": 1
    },
    "prompts": [
        {
            "config_item": "row",
            "config_item_name": "Rack Row",
            "prompt_text": "rack row",
            "example_text": "7",
            "verify_functions": [["is_int"]],
            "format_functions": [["zfill", 2]],
            "input_mode": "input",
            "unique_value": 1,
            "api_paths": [""],
            "default_value": "",
            "empty_allowed": 0,
            "required": 1,
            "test": 0
        },
        {
            "config_item": "rack",
            "config_item_name": "Rack Number",
            "prompt_text": "rack number",
            "example_text": "5",
            "verify_functions": [["is_int"]],
            "format_functions": [["zfill", 2]],
            "input_mode": "input",
            "unique_value": 1,
            "api_paths": [""],
            "default_value": "",
            "empty_allowed": 0,
            "required": 1,
            "test": 0
        },
        {
            "config_item": "pdu_letter",
            "config_item_name": "PDU Letter",
            "prompt_text": "PDU letter",
            "example_text": "b",
            "verify_functions": [["is_one_of", ["a", "b"]]],
            "format_functions": [[]],
            "input_mode": "input",
            "unique_value": 1,
            "api_paths": [""],
            "default_value": "a",
            "empty_allowed": 0,
            "required": 1,
            "test": 0
        },
        {
            "config_item": "imd_hostname",
            "config_item_name": "IMD Hostname",
            "prompt_text": "IMD hostname",
            "example_text": "ab-0123456-ps-b1",
            "verify_functions": [["is_hostname"]],
            "format_functions": [[]],
            "default_value": "",
            "input_mode": "input",
            "unique_value": 1,
            "api_paths": ["conf/system/"],
            "http_method": "post",
            "cmd": "set",
            "json": {"hostname": "{imd_hostname}"},
            "empty_allowed": 0,
            "required": 1,
            "test": 0
        },
        {
            "config_item": "primary_ntp",
            "config_item_name": "Primary NTP Server",
            "prompt_text": "primary NTP FQDN",
            "example_text": "time.primary.net",
            "verify_functions": [["is_domain_name"]],
            "format_functions": [[]],
            "input_mode": "input",
            "unique_value": 0,
            "encrypt_default": 1,
            "salt": "",
            "default_value": "",
            "api_paths": [""],
            "cmd": "set",
            "empty_allowed": 0,
            "required": 1,
            "test": 0
        },
        {
            "config_item": "secondary_ntp",
            "config_item_name": "Secondary NTP Server",
            "prompt_text": "the secondary NTP FQDN",
            "example_text": "time.secondary.net",
            "verify_functions": [["is_domain_name"]],
            "format_functions": [[]],
            "input_mode": "input",
            "unique_value": 0,
            "encrypt_default": 1,
            "salt": "",
            "default_value": "",
            "api_paths": [""],
            "cmd": "set",
            "empty_allowed": 0,
            "required": 1,
            "test": 0
        },
        {
            "config_item": "username",
            "config_item_name": "Username",
            "prompt_text": "username",
            "example_text": "hacker",
            "verify_functions": [["is_valid_username"]],
            "format_functions": [[]],
            "input_mode": "input",
            "unique_value": 0,
            "encrypt_default": 1,
            "salt": "",
            "default_value": "",
            "api_paths": ["auth/{username}"],
            "empty_allowed": 0,
            "required": 1,
            "test": 0
        },
        {
            "config_item": "password",
            "config_item_name": "Password",
            "prompt_text": "password",
            "example_text": "l337+C0d3r$",
            "verify_functions": [["is_between", 1, 300]],
            "format_functions": [[]],
            "input_mode": "getpass",
            "unique_value": 0,
            "encrypt_default": 1,
            "salt": "",
            "default_value": "",
            "api_paths": [""],
            "empty_allowed": 0,
            "required": 1,
            "test": 0
        }
    ],

    "formatters": [
        {
            "config-item": "location",
            "config-item-name": "Rack Location",
            "api_paths": ["conf/contact"],
            "post_keys": ["description"],
            "http_method": "post",
            "cmd": "set",
            "json": {"description": "{location}"},
            "format_functions": [[ "apply_template", "R{row}-{rack}/{pdu_letter}", ["row", "rack", "pdu_letter"]]],
            "test": 0
        }
    ]
}